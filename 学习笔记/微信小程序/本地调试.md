首先打开容器，在容器名字上单击鼠标右键，选择`Attach Weixin Devtools`就能开启微信开发者工具中的本地调试。

![QQ截图20240630100658](./QQ截图20240630100658.png)



使用本地调试时,微信小程序开发者工具中，在`wx.cloud.callcontainer`的头部配置中，`X-WX-SERVICE`中设置为本地容器的名字，不再使用云端的容器的名字，就能实现在本地调试。

![QQ截图20240629182015](./QQ截图20240629182015.png)

向本地调试的服务器发送数据，不需要使用`http://127.0.0.1:40461/user/register`完整域名，只需要使用`/user/register`就行。



![QQ截图20240630095950](./QQ截图20240630095950.png)

### 本地调试特别注意事项

记得启动云端数据库，再启动`vps`中的`MySQL`代理服务，虽然是本地调试，但是数据还是写到云端数据库的。

经过测试，和`v2ray`是无关的。

`vscode`中的容器，`start`是启动的普通容器，不会监听代码变更而实时更新，`live coding`会实时监听代码变更而实时更新服务器，因而无需频繁的使用docker build重新构建容器，这比启动普通的容器方便多了。

![QQ截图20240630104837](./QQ截图20240630104837.png)

仔细观察,会发嵌套了两层，有两层框架，这就为什么会实时更新的原因了，不过也更耗CPU了。

![QQ截图20240630105347](./QQ截图20240630105347.png)

 内网地址`  "domain": "eoixleqv.koa-q901.4om1h0kq.3kgaaf8f.com",`测试这个配置是否对连接数据库的影响。

经测试对数据库的连接是毫无影响的。